# https://lakur.tech/2021/12/10/fix-slow-zsh-startup-nvm/
export NVM_LAZY=1

source ~/.zplug/init.zsh

zplug "plugins/git",     from:oh-my-zsh
zplug "plugins/tmux",    from:oh-my-zsh
zplug "plugins/z",       from:oh-my-zsh
zplug "plugins/gitfast", from:oh-my-zsh
zplug "plugins/common-aliases", from:oh-my-zsh
zplug "lukechilds/zsh-nvm"

zplug "zsh-users/zsh-syntax-highlighting", defer:2

zplug "themes/robbyrussell", from:oh-my-zsh, as:theme

# Install plugins if there are plugins that have not been installed
if ! zplug check --verbose; then
    printf "Install? [y/N]: "
    if read -q; then
        echo; zplug install
    fi
fi

# Then, source plugins and add commands to $PATH
zplug load

if [ -f ~/.iterm2_shell_integration.zsh ]; then
  source ~/.iterm2_shell_integration.zsh
fi

autoload -U compinit && compinit
zmodload -i zsh/complist

bindkey '^R' history-incremental-search-backward
bindkey "^P" up-line-or-search

# You may need to manually set your language environment
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8
export LC_CTYPE=en_US.UTF-8

# /opt/homebrew/bin is not loaded by default make sure it is always there
export PATH=/opt/homebrew/bin:$PATH
source $HOME/.zsh/path.zsh

if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi

alias rssh='rsync --progress -avz -e "ssh"'

# make nvim the default vim
alias vim='nvim'
alias vi='nvim'

export EDITOR="nvim"
